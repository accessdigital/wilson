{% set classes = [
  'relative',
  'block',
  'w-full',
  'overflow-hidden',
  'rounded-xl',
  link_url ? 'group',
  image ? 'bg-grey-500' : 'bg-primary',
  image ? 'text-white' : 'text-primary-contrast',
] %}

<div{{ attributes.addClass(classes) }}>
  {{ title_prefix }}
  {{ title_suffix }}

  {% if image %}
    <div class="absolute inset-0 group-hover:scale-110 transition-transform duration-300 descendant:!w-full descendant:!h-full descendant-img:object-cover brightness-50">
      {{ image }}
    </div>
  {% endif %}

  <div class="relative z-10 flex flex-col justify-end w-full h-full min-h-64 md:min-h-80 lg:min-h-100">
    <div class="pt-16 px-10 pb-10 max-w-3xl">
      {% if icon %}
        <div class="text-4xl md:text-6xl mb-4 group-hover:-translate-y-3 transition-transform duration-300">
          {{ icon }}
        </div>
      {% endif %}

      {% if published_date %}
        <time class="font-light text-xs whitespace-nowrap mt-0 mb-2">{{ published_date }}</time>
      {% endif %}

      {% if pre_header %}
        <p class="uppercase font-semibold tracking-wider text-xs mt-0 mb-2">{{ pre_header }}</p>
      {% endif %}

      {% if headline %}
        <h3 class="font-medium text-3xl mt-2 mb-4 last:mb-0">{{ headline }}</h3>
      {% endif %}

      {% if caption %}
        <p class="mb-4 last:mb-0">{{ caption|render|striptags }}</p>
      {% endif %}

      {% if link_url %}
        <p>
          <a href="{{ link_url }}" class="after:absolute after:inset-0 border-b-0 font-semibold">{{ link_text }} <span class="inline-block group-hover:translate-x-2 transition-transform duration-300">&#8594;</span></a>
        </p>
      {% endif %}
    </div>
  </div>
</div>
